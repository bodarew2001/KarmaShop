@using eUseControl.Domain.Enums;
@using TW.Extension;

@{ var user = System.Web.HttpContext.Current.GetMySessionObject(); }
@{
     ViewBag.Title = "_Header";
}

<header class="header_area sticky-header">
     <div class="main_menu">
          <nav class="navbar navbar-expand-lg navbar-light main_box">
               <div class="container">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <a class="navbar-brand logo_h" href="../Home/Index"><img src="../Images/logo.png" alt=""></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                         <span class="icon-bar"></span>
                         <span class="icon-bar"></span>
                         <span class="icon-bar"></span>
                    </button>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
                         <ul class="nav navbar-nav menu_nav ml-auto">
                              <li class="nav-item @(ViewContext.RouteData.Values["Action"].ToString() == "Index" ? "active" : "")"><a class="nav-link" href="@Url.Action("Index", "Home")">Pagina principală</a></li>
                              <li class="nav-item submenu dropdown">
                                   <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                                      aria-expanded="false">Produse</a>
                                   <ul class="dropdown-menu">
                                        <li class="nav-item"><a class="nav-link" href="@Url.Action("Index", "Product")">Produse</a></li>
                                        @if (user != null && user.Level == URole.ADMIN)
                                        {
                         <li class="nav-item"><a class="nav-link" href="@Url.Action("Add", "Product")">Add</a></li>}

                                        <li class="nav-item"><a class="nav-link" href="@Url.Action("Checkout", "Home")">Achitarea comenzii</a></li>
                                        <li class="nav-item"><a class="nav-link" href="@Url.Action("Cart", "Home")">Coș de cumpărături</a></li>
                                        <li class="nav-item"><a class="nav-link" href="@Url.Action("Confirmation", "Home")">Confirmare</a></li>
                                   </ul>
                              </li>
                              <li class="nav-item @(ViewContext.RouteData.Values["Action"].ToString() == "Tracking" ? "active" : "")">
                                   <a class="nav-link " href="@Url.Action("Tracking", "Home")">Urmărirea comenzii</a>
                              </li>


                              <li class="nav-item @(ViewContext.RouteData.Values["Action"].ToString() == "Contact" ? "active" : "")">
                                   <a class="nav-link " href="@Url.Action("Contact", "Home")">Contacte</a>
                              </li>
                              @{ if (user == null)
                                                  {
                                   <li class="nav-item @(ViewContext.RouteData.Values["Action"].ToString() == "Login" ? "active" : "")">
                                        <a class="nav-link" href="@Url.Action("Index", "Login")">Logare</a>
                                   </li> }
                                                  else
                                                  {

                                   <li class="nav-item submenu dropdown">
                                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                                           aria-expanded="false">Profile</a>
                                        <ul class="dropdown-menu">
                                             <li class="nav-item"><a class="nav-link" href="@Url.Action("Edit", "Login")">Editare profil</a></li>
                                             <li class="nav-item"><a class="nav-link" href="@Url.Action("Logout", "Home")">Logout</a></li>
                                        </ul>
                                   </li> } }
                         </ul>
                         <ul class="nav navbar-nav navbar-right">
                              <li class="nav-item"><a href="#" class="cart"><span class="ti-bag"></span></a></li>
                              <li class="nav-item">
                                   <a>
                                        @{if (user != null)
                                             {
                                                  @(user.Username + "   " + user.Level + "   ")
                                             }

                                   }
                              </a><span class="lnr lnr-user" id="user"></span>
                         </li>
                    </ul>
               </div>
          </div>
     </nav>
</div>
<div class="search_input" id="search_input_box">
     <div class="container">
          <form class="d-flex justify-content-between">
               <input type="text" class="form-control" id="search_input" placeholder="Search Here">
               <button type="submit" class="btn"></button>
               <span class="lnr lnr-cross" id="close_search" title="Close Search"></span>
          </form>
     </div>
</div>
</header>

